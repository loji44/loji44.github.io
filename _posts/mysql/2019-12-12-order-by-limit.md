---
layout: post
title: MySQLåˆ†é¡µ+æ’åºæ•°æ®é‡å¤çš„é—®é¢˜
date: 2019-12-12 11:03:43.000000000 +08:00
tags: 
  - MySQL
---

æœ€è¿‘å·¥ä½œä¸­é‡åˆ°ä¸€ä¸ªä½¿ç”¨MySQLåˆ†é¡µ+æ’åºæ—¶ï¼ŒMySQLè¿”å›æ•°æ®é‡å¤çš„é—®é¢˜ã€‚è™½ç„¶ä»¥ç°åœ¨çš„æ°´å¹³è¿˜ä¸çŸ¥é“å…·ä½“åŸå› ï¼Œä½†æ˜¯è¿˜æ˜¯å…ˆè¦è®°å½•ä¸€ä¸‹é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚å¾…ä»¥åæŠ€æœ¯æ°´å¹³è¾¾åˆ°ä¸€å®šæ°´å‡†æˆ–è€…æ‰¾åˆ°åŸå› å†å›æ¥æ›´æ–°è¿™ç¯‡æ–‡ç« ã€‚

### 1. é—®é¢˜(`MySQL 5.7`)

æœ‰ä¸€å¼ æ•°æ®è¡¨ï¼šä¸šåŠ¡çº¿æ•°æ®è¡¨ `business_line` çš„å†…å®¹å¦‚ä¸‹ï¼š

```sql
mysql> SELECT * FROM business_line;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
|  1 | ä¸šåŠ¡çº¿1        |         10 |      0 | 2019-12-10 11:07:04 | 2019-12-12 10:47:04 |
|  2 | ä¸šåŠ¡çº¿2        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:21 |
|  3 | ä¸šåŠ¡çº¿3        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:22 |
|  4 | ä¸šåŠ¡çº¿4        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:23 |
|  5 | ä¸šåŠ¡çº¿5        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:24 |
|  6 | ä¸šåŠ¡çº¿6        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:25 |
|  7 | ä¸šåŠ¡çº¿7        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:26 |
|  8 | ä¸šåŠ¡çº¿8        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:27 |
|  9 | ä¸šåŠ¡çº¿9        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:28 |
| 10 | ä¸šåŠ¡çº¿10       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:30 |
| 11 | ä¸šåŠ¡çº¿11       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:34 |
| 12 | ä¸šåŠ¡çº¿12       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:37 |
+----+---------------+------------+--------+---------------------+---------------------+
```

>`created_time`å­—æ®µè®¾è®¡ä¸º`DEFAULT CURRENT_TIMESTAMP`ï¼Œä¸”ç”±äºè¡¨ä¸­çš„æ•°æ®æ˜¯ä½¿ç”¨`INSERT`è¯­å¥æ‰¹é‡ä¸€æ¬¡æ€§æ’å…¥æ•°æ®è¡¨ä¸­ï¼Œæ‰€ä»¥æ¯ä¸€è¡Œæ•°æ®ä¸­çš„`created_time`å­—æ®µå€¼éƒ½æ˜¯`2019-12-10 11:07:04`ï¼Œè¿™æ˜¯å‰æã€‚

æˆ‘çš„éœ€æ±‚æ˜¯åœ¨å‰ç«¯é¡µé¢ä½¿ç”¨åˆ†é¡µ + æŒ‰`created_time`é™åºæ’åºçš„æŸ¥è¯¢è§„åˆ™æ¥æŸ¥è¯¢å¹¶å±•ç¤ºè¿™ä¸ªè¡¨çš„æ•°æ®ï¼Œåˆ†é¡µè¯­å¥ä¸ºï¼š`SELECT * FROM business_line ORDER BY created_time DESC LIMIT #{count} OFFSET #{offset};`

ç°åœ¨æŸ¥è¯¢ç¬¬ä¸€é¡µçš„æ•°æ®ï¼ˆæ¯é¡µ10æ¡ï¼Œoffsetä¸º 0ï¼‰ï¼š

```sql
mysql> SELECT * FROM business_line ORDER BY created_time DESC LIMIT 10 OFFSET 0;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
| 12 | ä¸šåŠ¡çº¿12       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:37 |
| 10 | ä¸šåŠ¡çº¿10       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:30 |
|  9 | ä¸šåŠ¡çº¿9        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:28 |
|  8 | ä¸šåŠ¡çº¿8        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:27 |
|  7 | ä¸šåŠ¡çº¿7        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:26 |
|  6 | ä¸šåŠ¡çº¿6        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:25 |
|  5 | ä¸šåŠ¡çº¿5        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:24 |
|  4 | ä¸šåŠ¡çº¿4        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:23 |
|  3 | ä¸šåŠ¡çº¿3        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:22 |
|  2 | ä¸šåŠ¡çº¿2        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:21 |
+----+---------------+------------+--------+---------------------+---------------------+
```

å—¯ ... çœ‹ç€å¥½åƒæ²¡å•¥é—®é¢˜ã€‚ç»§ç»­æŸ¥è¯¢ç¬¬äºŒé¡µæ•°æ®ï¼ˆæ¯é¡µ10æ¡ï¼Œoffsetä¸º 10ï¼‰ï¼š

````sql
mysql> SELECT * FROM business_line ORDER BY created_time DESC LIMIT 10 OFFSET 10;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
|  2 | ä¸šåŠ¡çº¿2        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:21 |
| 12 | ä¸šåŠ¡çº¿12       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:37 |
+----+---------------+------------+--------+---------------------+---------------------+
````

é—®é¢˜æ¥äº†ï¼šç¬¬äºŒé¡µå±…ç„¶æŸ¥å‡ºé‡å¤çš„æ•°æ®ï¼Œå·²çŸ¥`ä¸šåŠ¡çº¿2`å’Œ`ä¸šåŠ¡çº¿12`åœ¨ç¬¬ä¸€é¡µæŸ¥è¯¢çš„æ—¶å€™å·²ç»æŸ¥å‡ºæ¥äº†ã€‚æ€»å…±å°±ä¸¤é¡µæ•°æ®ï¼Œåå€’æ˜¯`ä¸šåŠ¡çº¿1`å’Œ`ä¸šåŠ¡çº¿11`å§‹ç»ˆæ²¡æœ‰æŸ¥å‡ºæ¥ï¼å¤šä¹ˆçª’æ¯çš„æ“ä½œ ...

### 2. é—®é¢˜åŸå› è¿½è¸ª

ç¿»é˜…MySQLå®˜ç½‘ä½¿ç”¨æ‰‹å†Œï¼Œåœ¨ [8.2.1.17 LIMIT Query Optimization](https://dev.mysql.com/doc/refman/5.7/en/limit-optimization.html) ä¸€ç« ä¸­æ‰¾åˆ°ä¸€äº›åŸå› ï¼š

>If multiple rows have identical values in the ORDER BY columns, the server is free to return those rows in any order, and may do so differently depending on the overall execution plan. In other words, the sort order of those rows is nondeterministic with respect to the nonordered columns.

è¿™é‡Œæ„æ€æ˜¯ï¼Œå¦‚æœ ORDER BY æ‰€æŒ‡å®šçš„æ’åºå­—æ®µä¸­å­˜åœ¨å¤šè¡Œçš„å€¼ç›¸åŒï¼ˆå°±æ˜¯æˆ‘ä»¬é‡åˆ°çš„æƒ…å†µï¼‰ï¼Œé’ˆå¯¹æœªæŒ‡å®šæ’åºçš„å­—æ®µï¼ŒMySQLè¿”å›çš„ç»“æœè¡Œæ•°æ®çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚æ—¢ç„¶è¿”å›çš„æ•°æ®é¡ºåºä¸ç¡®å®šï¼Œé‚£ä¹ˆåœ¨LIMITå–æ•°æ®çš„æ—¶å€™ï¼Œå°±æœ‰å¯èƒ½å–åˆ°é‡å¤çš„æ•°æ®ï¼Œè¿™å°±è§£é‡Šäº†æˆ‘ä»¬é‡åˆ°çš„æƒ…å†µä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ã€‚å¯èƒ½MySQLå°±æ˜¯è¿™æ ·è®¾è®¡çš„å§ğŸ¤·â€â™‚ï¸ğŸ¤·â€â™‚ï¸ğŸ¤·â€â™‚ï¸ã€‚

å¦ä¸€ä¸ªå½±å“æ•°æ®é¡ºåºçš„å› ç´ æ˜¯LIMITå­å¥ï¼ŒORDER BYçš„æ—¶å€™ï¼Œåé¢æœ‰LIMITå’Œæ²¡æœ‰LIMITæ—¶è¿”å›æ•°æ®çš„é¡ºåºæ˜¯ä¸ä¸€æ ·çš„ã€‚

```sql
-- æ³¨æ„ï¼šORDER BY åé¢æ²¡æœ‰è·Ÿ LIMIT è¯­å¥æ—¶è¿”å›çš„æ•°æ®é¡ºåºï¼š

mysql> SELECT * FROM business_line ORDER BY created_time;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
|  1 | ä¸šåŠ¡çº¿1        |         10 |      0 | 2019-12-10 11:07:04 | 2019-12-12 10:47:04 |
| 11 | ä¸šåŠ¡çº¿11       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:34 |
| 10 | ä¸šåŠ¡çº¿10       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:30 |
|  9 | ä¸šåŠ¡çº¿9        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:28 |
|  8 | ä¸šåŠ¡çº¿8        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:27 |
|  7 | ä¸šåŠ¡çº¿7        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:26 |
|  6 | ä¸šåŠ¡çº¿6        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:25 |
|  5 | ä¸šåŠ¡çº¿5        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:24 |
|  4 | ä¸šåŠ¡çº¿4        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:23 |
|  3 | ä¸šåŠ¡çº¿3        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:22 |
|  2 | ä¸šåŠ¡çº¿2        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:21 |
| 12 | ä¸šåŠ¡çº¿12       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:37 |
+----+---------------+------------+--------+---------------------+---------------------+

-- ORDER BY åé¢è·Ÿ LIMIT è¯­å¥æ—¶è¿”å›çš„æ•°æ®é¡ºåºï¼š

mysql> SELECT * FROM business_line ORDER BY created_time LIMIT 5;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
| 12 | ä¸šåŠ¡çº¿12       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:37 |
|  2 | ä¸šåŠ¡çº¿2        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:21 |
|  3 | ä¸šåŠ¡çº¿3        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:22 |
|  4 | ä¸šåŠ¡çº¿4        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:23 |
|  5 | ä¸šåŠ¡çº¿5        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:24 |
+----+---------------+------------+--------+---------------------+---------------------+
```

### 3. é—®é¢˜è§£å†³æ–¹æ¡ˆ

å½“æŒ‡å®šçš„æ’åºå­—æ®µå­˜åœ¨å¤šè¡Œæ•°æ®ä¸­çš„å€¼éƒ½ä¸€æ ·çš„æƒ…å†µï¼ŒMySQLçš„æ’åºå¯èƒ½å°±ä¼šåŒ…å«ä¸ç¡®å®šæ€§ï¼Œå°±åƒé—®é¢˜ä¸­æè¿°çš„ç°è±¡ä¸€æ ·ï¼šåˆ†é¡µè¿”å›äº†é‡å¤çš„æ•°æ®ã€‚ä¸ºäº†æ¶ˆé™¤è¿™ç§ä¸ç¡®å®šæ€§ï¼Œä¿è¯è¿”å›çš„æ•°æ®é¡ºåºæ˜¯ç¡®å®šçš„ï¼Œå¯ä»¥é¢å¤–ä½¿ç”¨å…¶ä»–å…·æœ‰å”¯ä¸€æ€§çš„å­—æ®µä½œä¸ºæ’åºå­—æ®µï¼Œä¾‹å¦‚è‡ªå¢IDã€‚

æ‰€ä»¥æ ¹æ®ä¸Šè¿°é—®é¢˜ä¸­çš„åœºæ™¯ï¼Œæ—¢ç„¶æŒ‡å®šçš„æ’åºå­—æ®µ `created_time` å·²ç»ä¸å¯é¿å…åœ°åœ¨æ¯è¡Œæ•°æ®ä¸­åŒ…å«äº†ç›¸åŒçš„å€¼ï¼Œé‚£éœ€è¦å†é¢å¤–ä½¿ç”¨ä¸€ä¸ªå…¶å€¼å…·å¤‡å”¯ä¸€æ€§çš„å­—æ®µè‡ªå¢IDæ¥ä½œä¸ºæ’åºå­—æ®µï¼Œå¾—åˆ°çš„åˆ†é¡µç»“æœå°†ä¼šæ˜¯è·Ÿé¢„æœŸä¸€æ ·æ­£å¸¸äº†ã€‚

ç°åœ¨æŸ¥è¯¢ç¬¬ä¸€é¡µçš„æ•°æ®ï¼ˆæ¯é¡µ10æ¡ï¼Œoffsetä¸º 0ï¼‰ï¼Œæ³¨æ„é¢å¤–åŠ äº† `id` ä½œä¸ºæ’åºå­—æ®µï¼š

```sql
mysql> SELECT * FROM business_line ORDER BY created_time DESC, id LIMIT 10 OFFSET 0;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
|  1 | ä¸šåŠ¡çº¿1        |         10 |      0 | 2019-12-10 11:07:04 | 2019-12-12 10:47:04 |
|  2 | ä¸šåŠ¡çº¿2        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:21 |
|  3 | ä¸šåŠ¡çº¿3        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:22 |
|  4 | ä¸šåŠ¡çº¿4        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:23 |
|  5 | ä¸šåŠ¡çº¿5        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:24 |
|  6 | ä¸šåŠ¡çº¿6        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:25 |
|  7 | ä¸šåŠ¡çº¿7        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:26 |
|  8 | ä¸šåŠ¡çº¿8        |         11 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:27 |
|  9 | ä¸šåŠ¡çº¿9        |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:28 |
| 10 | ä¸šåŠ¡çº¿10       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:30 |
+----+---------------+------------+--------+---------------------+---------------------+
```

ç»§ç»­æŸ¥è¯¢ç¬¬äºŒé¡µæ•°æ®ï¼ˆæ¯é¡µ10æ¡ï¼Œoffsetä¸º 10ï¼‰ï¼Œæ³¨æ„é¢å¤–åŠ äº† `id` ä½œä¸ºæ’åºå­—æ®µï¼š

```sql
mysql> SELECT * FROM business_line ORDER BY created_time DESC, id LIMIT 10 OFFSET 10;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
| 11 | ä¸šåŠ¡çº¿11       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:34 |
| 12 | ä¸šåŠ¡çº¿12       |          1 |      0 | 2019-12-10 11:07:04 | 2019-12-12 11:41:37 |
+----+---------------+------------+--------+---------------------+---------------------+
```

è‡³æ­¤ï¼Œåˆ†é¡µæ•°æ®é‡å¤çš„é—®é¢˜å¾—åˆ°è§£å†³ã€‚

`ORDER BY created_time DESC, id` è¯­å¥ä¸­ï¼ŒMySQLä¼šä¼˜å…ˆä½¿ç”¨ `created_time` å­—æ®µè¿›è¡Œé™åºæ’åºï¼Œå½“é‡åˆ° `created_time` å­—æ®µå€¼ä¸€æ ·æ—¶ï¼Œä¼šä½¿ç”¨ `id` è¿›è¡Œå‡åºæ’åºï¼ˆä¸æŒ‡å®šåˆ™é»˜è®¤`ASC`ï¼‰ï¼Œä»è€Œè§£å†³äº† ORDER BY + LIMIT ç»„åˆä½¿ç”¨æ—¶åˆ†é¡µæ•°æ®é‡å¤çš„é—®é¢˜äº†ã€‚

### 4. åç»­è¡¥å……

MySQL 8.0 + çš„ç‰ˆæœ¬å·²ç»ä¸å­˜åœ¨ä¸Šè¿°çš„é—®é¢˜ã€‚ç°åœ¨ä»¥MySQL 8.0ç‰ˆæœ¬æ¥åšå®éªŒï¼Œç°åœ¨è¡¨ä¸­æ•°æ®å¦‚ä¸‹ï¼š

```sql
mysql> SELECT * FROM business_line;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
|  1 | ä¸šåŠ¡çº¿1        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  2 | ä¸šåŠ¡çº¿2        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  3 | ä¸šåŠ¡çº¿3        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  4 | ä¸šåŠ¡çº¿4        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  5 | ä¸šåŠ¡çº¿5        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  6 | ä¸šåŠ¡çº¿6        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  7 | ä¸šåŠ¡çº¿7        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  8 | ä¸šåŠ¡çº¿8        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  9 | ä¸šåŠ¡çº¿9        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
| 10 | ä¸šåŠ¡çº¿10       |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
| 11 | ä¸šåŠ¡çº¿11       |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
| 12 | ä¸šåŠ¡çº¿12       |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
+----+---------------+------------+--------+---------------------+---------------------+
```

ç°åœ¨æŸ¥è¯¢ç¬¬ä¸€é¡µçš„æ•°æ®ï¼ˆæ¯é¡µ10æ¡ï¼Œoffsetä¸º 0ï¼‰ï¼š

```sql
mysql> SELECT * FROM business_line ORDER BY created_time DESC LIMIT 10 OFFSET 0;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
|  1 | ä¸šåŠ¡çº¿1        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  2 | ä¸šåŠ¡çº¿2        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  3 | ä¸šåŠ¡çº¿3        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  4 | ä¸šåŠ¡çº¿4        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  5 | ä¸šåŠ¡çº¿5        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  6 | ä¸šåŠ¡çº¿6        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  7 | ä¸šåŠ¡çº¿7        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  8 | ä¸šåŠ¡çº¿8        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
|  9 | ä¸šåŠ¡çº¿9        |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
| 10 | ä¸šåŠ¡çº¿10       |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
+----+---------------+------------+--------+---------------------+---------------------+
```

å†æŸ¥è¯¢ç¬¬äºŒé¡µçš„æ•°æ®æ¯é¡µ10æ¡ï¼Œoffsetä¸º 10ï¼‰ï¼š
```sql
mysql> SELECT * FROM business_line ORDER BY created_time DESC LIMIT 10 OFFSET 10;
+----+---------------+------------+--------+---------------------+---------------------+
| id | buz_line_name | company_id | status | created_time        | updated_time        |
+----+---------------+------------+--------+---------------------+---------------------+
| 11 | ä¸šåŠ¡çº¿11       |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
| 12 | ä¸šåŠ¡çº¿12       |          0 |      0 | 2020-01-08 04:01:24 | 2020-01-08 04:01:24 |
+----+---------------+------------+--------+---------------------+---------------------+
```

ä»ç»“æœä¸Šçœ‹ï¼ŒMySQL 8.0ç‰ˆæœ¬å·²ç»é»˜è®¤å¤„ç†äº†è¿™ç§æƒ…å†µï¼Œå³å¦‚æœæ’åºå­—æ®µå€¼ç›¸åŒï¼Œåˆ™ä¼šå†æ ¹æ®è‡ªå¢IDè¿›è¡Œæ’åºã€‚

ç„¶è€Œåœ¨å®˜æ–¹çš„æ‰‹å†Œæ–‡æ¡£ä¸Šï¼Œå…³äºè¿™éƒ¨åˆ†çš„è¯´æ˜ä»è·Ÿ5.7ç‰ˆæœ¬ä¸€æ ·ï¼š[8.2.1.19 LIMIT Query Optimization](https://dev.mysql.com/doc/refman/8.0/en/limit-optimization.html)ï¼Œä¸çŸ¥é“ä¸ºä½•ï¼Œä¹Ÿè®¸æ–‡æ¡£æ²¡æ¥å¾—åŠä¿®æ”¹ï¼Ÿ

<hr />
